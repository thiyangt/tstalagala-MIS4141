# Data Quality Analysis

## Required software and packages

1.  R Software

2.  RStudio

3.  Following packages:

    -   tidyverse

    -   rmarkdown

    -   knitr

    -   data.validator

    -   dlookr

    -   skimr
    
    - naniar

    -   visdat

    -   denguedatahub

    -   DSjobtracker

## Data Profiling

Name of the datasets:

`denguedatahub::srilanka_weekly_data`

`denguedatahub::world_annual`

```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(denguedatahub)
library(tidyverse)
library(naniar)
```

### Data Description: `denguedatahub::srilanka_weekly_data`

```{r, echo=FALSE}
library(skimr)
skim(srilanka_weekly_data)
```

### Data Description: `denguedatahub::world_annual`

```{r, echo=FALSE}
library(skimr)
skim(world_annual)
```

## Variable Types

### `denguedatahub::srilanka_weekly_data`

```{r, echo=FALSE}
library(visdat)
vis_dat(srilanka_weekly_data)
```

Question: Why is there no observable variability in the `cases` column?

### `denguedatahub::world_annual`

This example shows how to work with a large dataset with `visdat`

```{r, echo=FALSE}
world_annual |>
  dplyr::slice(1:1000) |>
  vis_dat()
```

## Visualising Numerial Data

### `denguedatahub::srilanka_weekly_data`

```{r, echo=FALSE}
srilanka_weekly_data |>
  select(where(is.numeric)) |>
  vis_value()
```

### `denguedatahub::world_annual`

```{r, echo=FALSE}
world_annual |>
  slice(1:1000) |>
  select(where(is.numeric)) |>
  vis_value()
```

## Arrange Data Before Plotting Numeric Variables


### `denguedatahub::srilanka_weekly_data`

```{r, echo=FALSE}
srilanka_weekly_data |>
  select(where(is.numeric)) |>
  arrange(cases) |>
  vis_value()
```

## Visualise Binary Variables in the Data

```{r}
## Sample dataset
df1 <- tibble(x=rep(c(1, 0), 50), y=c(rep(1, 50), rep(0, 50)))
```

```{r, echo=FALSE}
vis_binary(df1)
```

## Visualise Messy Data Sets with Mixed Data Types

```{r,  echo=FALSE}
set.seed(8)
x <- c("TRUE", "TRUE", 1, 200, 1L, 30, 30.5, 1, 0, "2014/1/2")
y <- sample(x)
z <- sample(y)
df2 <- tibble(x, y, z)
df2
```

### Visualise the Data Set

```{r,  echo=FALSE}
vis_dat(df2)
```

###  Cell Identification Challenge: Guess the Function of Each Cell

```{r}
vis_guess(df2)
```

## Data Completeness

### Visualize the distribution of missing data.

#### `denguedatahub::srilanka_weekly_data`

```{r, echo=FALSE}
vis_miss(srilanka_weekly_data)
```

#### `denguedatahub::world_annual`

```{r, echo=FALSE}
world_annual |>
  slice(1:2000) |>
  vis_miss()
```

### Visualise Missing in Variables

```{r, echo=FALSE}
world_annual |>
  slice(1:2000) |>
  gg_miss_var()
```

Small multiples of the same plot facet by year

```{r, echo=FALSE, fig.height=15}
world_annual |>
  slice(1:2000) |>
  gg_miss_var(facet = year)
```

## Explore Missing Relationships

### `denguedatahub::srilanka_weekly_data`

```{r, echo=FALSE}
world_annual |>
  slice(1:2000) |>
  as_shadow_upset() |>
  UpSetR::upset()
```

### `drone::worldbankdata`

```{r, eval=FALSE}
# install.packages("devtools")
devtools::install_github("thiyangt/drone")
```

```{r}
library(tibble)
library(drone)
data("worldbankdata")
worldbankdata
```

Question: Perform a data profiling analysis on `worldbankdata`.

```{r}
worldbankdata |>
  as_shadow_upset() |>
  UpSetR::upset()
```